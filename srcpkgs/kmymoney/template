# Template file for 'kmymoney'
pkgname=kmymoney
version=5.2.2
revision=1
build_style=cmake
configure_args="-DKDE_INSTALL_QTPLUGINDIR=lib/qt6/plugins
 -DBUILD_WITH_QT6=ON -DENABLE_GPG=ON
 -DENABLE_ADDRESSBOOK=OFF -DBUILD_TESTING=OFF"
hostmakedepends="extra-cmake-modules pkg-config python3 gettext
 qt6-base kf6-kconfig kf6-kcmutils kf6-kdoctools"
makedepends="qt6-base-private-devel qt6-svg-devel qt6-declarative-devel
 gpgme-qt6-devel plasma-activities-devel kdiagram6-devel
 kf6-karchive-devel kf6-kcoreaddons-devel kf6-kconfig-devel
 kf6-kconfigwidgets-devel kf6-kcrash-devel kf6-ki18n-devel
 kf6-kcompletion-devel kf6-kcmutils-devel kf6-kitemmodels-devel
 kf6-kitemviews-devel kf6-kservice-devel kf6-kxmlgui-devel
 kf6-ktextwidgets-devel kf6-knotifications-devel kf6-kio-devel
 kf6-kdoctools-devel kf6-kholidays-devel kf6-kcontacts-devel
 kf6-akonadi-devel kidentitymanagement-devel qtkeychain-qt6-devel
 libalkimia-devel opensp-devel
 libofx-devel sqlcipher-devel libical-devel aqbanking-devel
 gwenhywfar-devel gwenhywfar-qt6 python3-devel"
depends="shared-mime-info qt6-svg"
short_desc="Personal finance manager"
maintainer="Helmut Pozimski <helmut@pozimski.eu>"
license="GPL-2.0-or-later"
homepage="https://kmymoney.org"
distfiles="${KDE_SITE}/kmymoney/${version}/${pkgname}-${version}.tar.xz"
checksum=40b6639e6a216100d20248ed74fa154202f9ccdfbc335227cedc1bef8ea5d377

kmymoney-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
	}
}
