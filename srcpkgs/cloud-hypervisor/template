# Template file for 'cloud-hypervisor'
pkgname=cloud-hypervisor
version=51.1
revision=1
archs="aarch64* x86_64*"
build_style=cargo
hostmakedepends="pkg-config"
makedepends="libzstd-devel openssl-devel"
short_desc="Virtual Machine Monitor for modern Cloud workloads"
maintainer="Leah Neukirchen <leah@vuxu.org>"
license="Apache-2.0, BSD-3-Clause"
homepage="https://github.com/cloud-hypervisor/cloud-hypervisor"
distfiles="https://github.com/cloud-hypervisor/cloud-hypervisor/archive/v${version}.tar.gz"
checksum=a2393046c0230f6360792ed2ef1b60968aa4e04d12b6be419c86306774e2e4ef

do_install() {
	for f in cloud-hypervisor ch-remote; do
		for b in target/*/release/$f; do
			vbin $b
		done
	done
	vbin scripts/ch-trace-visualiser.py ch-trace-visualiser

	for f in LICENSES/*; do
		vlicense $f
	done
}
